{% extends 'base.html' %} {% block title %}Course Assignments - Faculty Dean{% endblock %} {% block content %} <style> .card { background: #FFFFFF; border: 1px solid var(--border-light); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); } .btn { border-radius: 12px; font-weight: 600; border: none; font-size: 14px; } .btn-primary { background: var(--ios-blue); color: white; } .btn-secondary { background: var(--ios-gray-light); color: var(--text-primary); } .btn-success { background: var(--ios-green); color: white; } .btn-warning { background: var(--ios-orange); color: white; } .btn-danger { background: var(--ios-red); color: white; } </style> <div class="container-fluid"> <!-- Header --> <div class="row mb-4"> <div class="col-12"> <div class="card" style="background: var(--royal-blue-gradient); color: white;"> <div class="card-body"> <div class="row align-items-center"> <div class="col-md-8"> <h1 class="mb-1 fw-bold">Course Assignments</h1> <p class="mb-0 opacity-75">{{ faculty.name }} Faculty - Manage lecturer course assignments</p> </div> <div class="col-md-4 text-center"> <div style="background: rgba(255,255,255,0.2); padding: 12px 16px; border-radius: 12px;"> <div class="h3 fw-bold mb-0">{{ assignments.count }}</div> <small class="opacity-75">Total Assignments</small> </div> </div> </div> </div> </div> </div> </div> <!-- Statistics --> <div class="row mb-4"> <div class="col-lg-3 col-md-6 mb-3"> <div class="card text-center"> <div class="card-body"> <div class="h2 text-primary fw-bold">{{ stats.total_assignments }}</div> <div class="text-muted">Total Assignments</div> </div> </div> </div> <div class="col-lg-3 col-md-6 mb-3"> <div class="card text-center"> <div class="card-body"> <div class="h2 text-success fw-bold">{{ stats.assigned_courses }}</div> <div class="text-muted">Assigned Courses</div> </div> </div> </div> <div class="col-lg-3 col-md-6 mb-3"> <div class="card text-center"> <div class="card-body"> <div class="h2 text-warning fw-bold">{{ stats.unassigned_courses }}</div> <div class="text-muted">Unassigned Courses</div> </div> </div> </div> <div class="col-lg-3 col-md-6 mb-3"> <div class="card text-center"> <div class="card-body"> <div class="h2 text-info fw-bold">{{ stats.active_lecturers }}</div> <div class="text-muted">Active Lecturers</div> </div> </div> </div> </div> <!-- Assignment Form --> <div class="row mb-4"> <div class="col-12"> <div class="card"> <div class="card-body"> <h5 class="card-title fw-bold mb-3"> <i class="bi bi-plus-circle me-2"></i>Create New Assignment </h5> <form method="post" action="{% url 'faculty_dean_course_assignments' %}"> {% csrf_token %} <div class="row"> <div class="col-md-4 mb-3"> <label class="form-label fw-bold">Select Course *</label> <select name="course_id" required class="form-select"> <option value="">Choose a course...</option> {% for course in unassigned_courses %} <option value="{{ course.id }}"> {{ course.code }} - {{ course.title }} </option> {% endfor %} </select> </div> <div class="col-md-4 mb-3"> <label class="form-label fw-bold">Select Lecturer *</label> <select name="lecturer_id" required class="form-select"> <option value="">Choose a lecturer...</option> {% for lecturer in lecturers %} <option value="{{ lecturer.id }}"> {{ lecturer.get_full_name }} ({{ lecturer.department.name }}) </option> {% endfor %} </select> </div> <div class="col-md-4 mb-3"> <label class="form-label fw-bold">Session *</label> <select name="session_id" required class="form-select"> <option value="">Choose session...</option> {% for session in sessions %} <option value="{{ session.id }}">{{ session.name }}</option> {% endfor %} </select> </div> </div> <div class="d-flex gap-2"> <button type="submit" class="btn btn-primary"> <i class="bi bi-check-circle me-1"></i>Create Assignment </button> <button type="reset" class="btn btn-secondary"> <i class="bi bi-arrow-clockwise me-1"></i>Reset Form </button> </div> </form> </div> </div> </div> </div> <!-- Current Assignments --> <div class="row"> <div class="col-12"> <div class="card"> <div class="card-body"> <div class="d-flex justify-content-between align-items-center mb-3"> <h5 class="card-title fw-bold mb-0">Current Assignments ({{ assignments.count }})</h5> <div class="d-flex gap-2"> <button class="btn btn-secondary btn-sm"> <i class="bi bi-download me-1"></i>Export </button> <button class="btn btn-warning btn-sm" onclick="bulkReassign()"> <i class="bi bi-arrow-repeat me-1"></i>Bulk Reassign </button> </div> </div> <!-- Filter --> <div class="row mb-3"> <div class="col-md-3"> <select class="form-select form-select-sm"> <option>All Departments</option> {% for department in departments %} <option value="{{ department.id }}">{{ department.name }}</option> {% endfor %} </select> </div> <div class="col-md-3"> <select class="form-select form-select-sm"> <option>All Lecturers</option> {% for lecturer in lecturers %} <option value="{{ lecturer.id }}">{{ lecturer.get_full_name }}</option> {% endfor %} </select> </div> <div class="col-md-3"> <select class="form-select form-select-sm"> <option>All Sessions</option> {% for session in sessions %} <option value="{{ session.id }}">{{ session.name }}</option> {% endfor %} </select> </div> <div class="col-md-3"> <input type="text" class="form-control form-control-sm" placeholder="Search course code..."> </div> </div> {% if assignments %} <div class="table-responsive"> <table class="table table-hover"> <thead class="table-light"> <tr> <th>Course</th> <th>Lecturer</th> <th>Department</th> <th>Session</th> <th>Students</th> <th>Status</th> <th>Actions</th> </tr> </thead> <tbody> {% for assignment in assignments %} <tr> <td> <div class="fw-bold text-primary">{{ assignment.course.code }}</div> <small class="text-muted">{{ assignment.course.title }}</small> </td> <td> <div class="fw-bold">{{ assignment.lecturer.get_full_name }}</div> <small class="text-muted">{{ assignment.lecturer.email }}</small> </td> <td>{{ assignment.lecturer.department.name }}</td> <td>{{ assignment.session.name }}</td> <td> <span class="badge bg-primary">{{ assignment.enrollments_count }}</span> </td> <td> {% if assignment.is_active %} <span class="badge bg-success">Active</span> {% else %} <span class="badge bg-secondary">Inactive</span> {% endif %} </td> <td> <div class="btn-group btn-group-sm"> <button class="btn btn-outline-primary btn-sm" onclick="viewAssignment({{ assignment.id }})"> <i class="bi bi-eye"></i> </button> <button class="btn btn-outline-warning btn-sm" onclick="reassignCourse({{ assignment.id }})"> <i class="bi bi-arrow-repeat"></i> </button> <button class="btn btn-outline-danger btn-sm" onclick="removeAssignment({{ assignment.id }})"> <i class="bi bi-trash"></i> </button> </div> </td> </tr> {% endfor %} </tbody> </table> </div> <!-- Pagination --> {% if assignments.has_other_pages %} <nav aria-label="Assignments pagination" class="mt-3"> <ul class="pagination justify-content-center"> {% if assignments.has_previous %} <li class="page-item"> <a class="page-link" href="?page={{ assignments.previous_page_number }}">Previous</a> </li> {% endif %} {% for num in assignments.paginator.page_range %} {% if assignments.number == num %} <li class="page-item active"> <span class="page-link">{{ num }}</span> </li> {% else %} <li class="page-item"> <a class="page-link" href="?page={{ num }}">{{ num }}</a> </li> {% endif %} {% endfor %} {% if assignments.has_next %} <li class="page-item"> <a class="page-link" href="?page={{ assignments.next_page_number }}">Next</a> </li> {% endif %} </ul> </nav> {% endif %} {% else %} <div class="text-center py-5"> <i class="bi bi-clipboard-check" style="font-size: 3rem; color: #ccc;"></i> <h5 class="mt-3 text-muted">No Course Assignments</h5> <p class="text-muted">Create your first course assignment using the form above.</p> </div> {% endif %} </div> </div> </div> </div> </div> <script> function viewAssignment(assignmentId) { alert('View assignment details - to be implemented'); } function reassignCourse(assignmentId) { if (confirm('Are you sure you want to reassign this course?')) { alert('Course reassignment - to be implemented'); } } function removeAssignment(assignmentId) { if (confirm('Are you sure you want to remove this assignment?')) { alert('Assignment removal - to be implemented'); } } function bulkReassign() { alert('Bulk reassignment - to be implemented'); } </script> {% endblock %} 