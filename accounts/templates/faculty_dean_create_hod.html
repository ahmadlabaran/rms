{% extends 'base.html' %} {% block title %}Create HOD User - Faculty Dean{% endblock %} {% block content %} <!-- Page Header --> <div class="page-header"> <h1 class="page-title">Create HOD User</h1> <p class="page-subtitle">Create new Head of Department users for {{ faculty.name }}</p> </div> <!-- Create HOD User Form --> <div class="ios-card" style="margin-bottom: 32px;"> <h2 style="color: var(--text-primary); margin-bottom: 24px; font-size: 22px; font-weight: 600;">Create New HOD User</h2> <form method="post" action="{% url 'faculty_dean_create_hod' %}"> {% csrf_token %} <input type="hidden" name="action" value="create_and_assign"> <!-- User Information --> <div style="background: var(--surface-secondary); padding: 20px; border-radius: 12px; margin-bottom: 24px;"> <h3 style="color: var(--ios-blue); margin-bottom: 16px; font-size: 18px; font-weight: 600;">User Information</h3> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">First Name *</label> <input type="text" name="first_name" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="HOD's first name"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Last Name *</label> <input type="text" name="last_name" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="HOD's last name"> </div> </div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Email Address *</label> <input type="email" name="email" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="hod@university.edu"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Username *</label> <input type="text" name="username" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="hod_username"> </div> </div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Password *</label> <input type="password" name="password" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Secure password"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Confirm Password *</label> <input type="password" name="confirm_password" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Confirm password"> </div> </div> </div> <!-- Department Assignment --> <div style="background: var(--surface-secondary); padding: 20px; border-radius: 12px; margin-bottom: 24px;"> <h3 style="color: var(--ios-blue); margin-bottom: 16px; font-size: 18px; font-weight: 600;">Department Assignment</h3> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Select Department *</label> <select name="department_id" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;"> <option value="">Select a department to assign as HOD</option> {% for department in departments %} <option value="{{ department.id }}">{{ department.name }} ({{ department.code }})</option> {% endfor %} </select> </div> </div> <div style="display: flex; gap: 12px;"> <button type="submit" class="btn btn-primary">Create HOD User</button> <a href="{% url 'faculty_dean_departments' %}" class="btn btn-secondary">Cancel</a> </div> </form> </div> <!-- Existing HODs --> <div class="ios-card"> <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;"> <h2 style="color: var(--text-primary); font-size: 20px; font-weight: 600; margin: 0;">Current HODs in {{ faculty.name }}</h2> </div> {% if departments %} <div style="overflow-x: auto;"> <table style="width: 100%; border-collapse: collapse;"> <thead> <tr style="background: var(--surface-secondary);"> <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--text-primary);">Department</th> <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--text-primary);">Code</th> <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--text-primary);">Current HOD</th> <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--text-primary);">Status</th> <th style="padding: 12px; text-align: left; font-weight: 600; color: var(--text-primary);">Actions</th> </tr> </thead> <tbody> {% for department in departments %} <tr style="border-bottom: 1px solid var(--border-light);"> <td style="padding: 12px;"> <div style="font-weight: 600; color: var(--text-primary);">{{ department.name }}</div> </td> <td style="padding: 12px; color: var(--text-secondary); font-family: monospace;">{{ department.code }}</td> <td style="padding: 12px;"> {% if department.hod %} <div style="color: var(--text-primary); font-weight: 500;">{{ department.hod.get_full_name }}</div> <div style="color: var(--text-secondary); font-size: 12px;">{{ department.hod.email }}</div> {% else %} <span style="color: var(--ios-red); font-size: 14px;">No HOD Assigned</span> {% endif %} </td> <td style="padding: 12px;"> {% if department.hod %} <span class="badge badge-success">Has HOD</span> {% else %} <span class="badge badge-warning">No HOD</span> {% endif %} </td> <td style="padding: 12px;"> <div style="display: flex; gap: 8px;"> {% if not department.hod %} <a href="{% url 'faculty_dean_assign_hod_single' department.id %}" class="btn btn-primary" style="padding: 6px 12px; font-size: 12px;">Assign HOD</a> {% else %} <a href="{% url 'faculty_dean_change_hod' department.id %}" class="btn btn-secondary" style="padding: 6px 12px; font-size: 12px;">Change HOD</a> {% endif %} </div> </td> </tr> {% endfor %} </tbody> </table> </div> {% else %} <div style="text-align: center; padding: 40px; color: var(--text-secondary);"> <div style="width: 60px; height: 60px; background: var(--ios-blue-ultra-light); border-radius: 15px; margin: 0 auto 16px; display: flex; align-items: center; justify-content: center;"> <div style="width: 30px; height: 30px; background: var(--ios-blue); border-radius: 8px; opacity: 0.6;"></div> </div> <h3 style="color: var(--text-primary); margin-bottom: 8px;">No Departments Found</h3> <p style="margin-bottom: 20px;">Create departments first before assigning HODs</p> <a href="{% url 'faculty_dean_departments' %}" class="btn btn-primary">Manage Departments</a> </div> {% endif %} </div> {% endblock %} 