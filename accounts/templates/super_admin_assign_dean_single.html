{% extends 'base.html' %} {% block title %}Assign Faculty Dean - Super Admin{% endblock %} {% block content %} <!-- Page Header --> <div class="page-header"> <h1 class="page-title">Assign Faculty Dean</h1> <p class="page-subtitle">Assign a Faculty Dean to {{ faculty.name }}</p> </div> <!-- Faculty Information --> <div class="ios-card" style="margin-bottom: 32px;"> <h2 style="color: var(--text-primary); margin-bottom: 24px; font-size: 22px; font-weight: 600;">Faculty Information</h2> <div style="background: var(--surface-secondary); padding: 20px; border-radius: 12px;"> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Faculty Name</div> <div style="font-weight: 600; color: var(--text-primary);">{{ faculty.name }}</div> </div> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Faculty Code</div> <div style="font-weight: 600; color: var(--text-primary); font-family: monospace;">{{ faculty.code }}</div> </div> </div> {% if faculty.description %} <div style="margin-top: 16px;"> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Description</div> <div style="color: var(--text-primary);">{{ faculty.description }}</div> </div> {% endif %} <div style="margin-top: 16px;"> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Current Dean</div> {% if current_dean %} <div style="color: var(--text-primary); font-weight: 500;">{{ current_dean.get_full_name }}</div> <div style="color: var(--text-secondary); font-size: 14px;">{{ current_dean.email }}</div> {% else %} <div style="color: var(--ios-red);">No Dean Assigned</div> {% endif %} </div> </div> </div> <!-- Assign Existing User as Dean --> <div class="ios-card" style="margin-bottom: 32px;"> <h2 style="color: var(--text-primary); margin-bottom: 24px; font-size: 22px; font-weight: 600;">Assign Existing User as Faculty Dean</h2> <form method="post" action="{% url 'super_admin_assign_dean_single' faculty.id %}"> {% csrf_token %} <input type="hidden" name="action" value="assign_existing"> <div style="margin-bottom: 20px;"> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Select User *</label> <select name="user_id" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;"> <option value="">Select a user to assign as Faculty Dean</option> {% for user in available_users %} <option value="{{ user.id }}">{{ user.get_full_name }} ({{ user.username }}) - {{ user.email }}</option> {% endfor %} </select> </div> <div style="display: flex; gap: 12px;"> <button type="submit" class="btn btn-primary">Assign as Faculty Dean</button> <a href="{% url 'super_admin_dashboard' %}" class="btn btn-secondary">Cancel</a> </div> </form> </div> <!-- Create New User and Assign as Dean --> <div class="ios-card" style="margin-bottom: 32px;"> <h2 style="color: var(--text-primary); margin-bottom: 24px; font-size: 22px; font-weight: 600;">Create New User & Assign as Faculty Dean</h2> <form method="post" action="{% url 'super_admin_assign_dean_single' faculty.id %}"> {% csrf_token %} <input type="hidden" name="action" value="create_and_assign"> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">First Name *</label> <input type="text" name="first_name" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Dean's first name"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Last Name *</label> <input type="text" name="last_name" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Dean's last name"> </div> </div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Email Address *</label> <input type="email" name="email" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="dean@university.edu"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Username *</label> <input type="text" name="username" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="dean_username"> </div> </div> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;"> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Password *</label> <input type="password" name="password" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Secure password"> </div> <div> <label style="display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary);">Confirm Password *</label> <input type="password" name="confirm_password" required style="width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; font-size: 14px;" placeholder="Confirm password"> </div> </div> <div style="display: flex; gap: 12px;"> <button type="submit" class="btn btn-primary">Create User & Assign as Dean</button> <a href="{% url 'super_admin_dashboard' %}" class="btn btn-secondary">Cancel</a> </div> </form> </div> <!-- Current Faculty Dean (if exists) --> {% if current_dean %} <div class="ios-card"> <h2 style="color: var(--text-primary); margin-bottom: 24px; font-size: 22px; font-weight: 600;">Current Faculty Dean</h2> <div style="background: var(--surface-secondary); padding: 20px; border-radius: 12px; margin-bottom: 20px;"> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Full Name</div> <div style="font-weight: 600; color: var(--text-primary);">{{ current_dean.get_full_name }}</div> </div> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Username</div> <div style="font-weight: 600; color: var(--text-primary); font-family: monospace;">{{ current_dean.username }}</div> </div> </div> <div style="margin-top: 16px;"> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Email</div> <div style="color: var(--text-primary);">{{ current_dean.email }}</div> </div> <div style="margin-top: 16px;"> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Assigned Date</div> <div style="color: var(--text-primary);">{{ dean_role.created_at|date:"M d, Y H:i" }}</div> </div> </div> <form method="post" action="{% url 'super_admin_assign_dean_single' faculty.id %}" onsubmit="return confirm('Are you sure you want to remove {{ current_dean.get_full_name }} as Faculty Dean?');"> {% csrf_token %} <input type="hidden" name="action" value="remove_dean"> <button type="submit" class="btn btn-danger">Remove Faculty Dean</button> </form> </div> {% endif %} {% endblock %} 