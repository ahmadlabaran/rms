{% extends 'base.html' %} {% block title %}Edit Department - RMS{% endblock %} {% block content %} <style> :root { --ios-red: #FF3B30; --ios-blue: #007AFF; --ios-green: #34C759; --ios-orange: #FF9500; --text-primary: #1D1D1F; --text-secondary: #86868B; --text-tertiary: #C7C7CC; --surface-primary: #FFFFFF; --surface-secondary: #F2F2F7; --border-color: #D1D1D6; --border-light: #E5E5EA; --royal-blue-gradient: linear-gradient(135deg, #007AFF 0%, #FF3B30 100%); } .form-container { max-width: 600px; margin: 0 auto; padding: 20px; } .form-card { background: white; border-radius: 16px; padding: 32px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid var(--border-light); } .form-group { margin-bottom: 24px; } .form-label { display: block; margin-bottom: 8px; font-weight: 600; color: var(--text-primary); font-size: 14px; } .form-input { width: 100%; padding: 12px 16px; border: 1px solid var(--border-color); border-radius: 12px; font-size: 16px; background: #FFFFFF; box-sizing: border-box; } .form-input:focus { outline: none; border-color: var(--ios-blue); box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1); } .btn { padding: 12px 24px; border-radius: 12px; font-weight: 600; text-align: center; border: none; cursor: pointer; font-size: 14px; text-decoration: none; display: inline-block; } .btn-primary { background: var(--ios-blue); color: white; } .btn-primary:hover { box-shadow: 0 4px 15px rgba(0, 122, 255, 0.3); } .btn-secondary { background: var(--surface-secondary); color: var(--text-primary); border: 1px solid var(--border-color); } .btn-secondary:hover { background: #E8E8ED; } .btn-danger { background: var(--ios-red); color: white; } .btn-danger:hover { background: #E5342B; } </style> <div class="form-container"> <!-- Header --> <div style="text-align: center; margin-bottom: 32px;"> <h1 style="font-size: 28px; font-weight: 700; color: var(--text-primary); margin-bottom: 8px;"> Edit Department </h1> <p style="color: var(--text-secondary); font-size: 16px;"> Update department information and HOD assignment </p> </div> <!-- Edit Form --> <div class="form-card"> <form method="post"> {% csrf_token %} <div class="form-group"> <label class="form-label" for="name">Department Name *</label> <input type="text" id="name" name="name" class="form-input" value="{{ department.name }}" required> </div> <div class="form-group"> <label class="form-label" for="code">Department Code *</label> <input type="text" id="code" name="code" class="form-input" value="{{ department.code }}" required style="text-transform: uppercase;"> </div> <div class="form-group"> <label class="form-label" for="description">Description</label> <textarea id="description" name="description" class="form-input" rows="4" placeholder="Brief description of the department">{{ department.description }}</textarea> </div> <div class="form-group"> <label class="form-label" for="hod_id">Head of Department</label> <select id="hod_id" name="hod_id" class="form-input"> <option value="">No HOD Assigned</option> {% for user in potential_hods %} <option value="{{ user.id }}" {% if department.hod and department.hod.id == user.id %}selected{% endif %}> {{ user.get_full_name }} ({{ user.email }}) </option> {% endfor %} </select> </div> <div style="display: flex; gap: 12px; justify-content: space-between; margin-top: 32px;"> <a href="{% url 'super_admin_manage_departments' %}" class="btn btn-secondary">Cancel</a> <div style="display: flex; gap: 12px;"> <button type="submit" name="action" value="update" class="btn btn-primary">Update Department</button> <button type="submit" name="action" value="delete" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this department? This action cannot be undone.')"> Delete Department </button> </div> </div> </form> </div> <!-- Department Information --> <div class="form-card" style="margin-top: 24px;"> <h3 style="color: var(--text-primary); margin-bottom: 16px;">Department Information</h3> <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Faculty</div> <div style="font-weight: 600;">{{ department.faculty.name }}</div> </div> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Created</div> <div style="font-weight: 600;">{{ department.created_at|date:"M d, Y" }}</div> </div> <div> <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 4px;">Current HOD</div> <div style="font-weight: 600;"> {% if department.hod %} {{ department.hod.get_full_name }} {% else %} <span style="color: var(--ios-red);">No HOD Assigned</span> {% endif %} </div> </div> </div> </div> </div> <script> // Auto-uppercase department code document.getElementById('code').addEventListener('input', function() { this.value = this.value.toUpperCase(); }); </script> {% endblock %} 